
<div class="row">
  <div class="col-lg-12">
    <div class="panel panel-primary">
      <div class="panel-heading">
        <i class="fa fa-bar-chart-o fa-fw"></i> Qui partage le même Hobbie ?

      </div>
      <!-- /.panel-heading -->
      <div class="panel-body">
        <select class="form-control" [(ngModel)]="hobbieMode" (change)="hobbieChangeMode($event)">
          <option value="">--Mode de recherche--</option>
          <option *ngFor="let m of hobbieModeChoices" [value]="m">{{m}}</option>
        </select>

        <br>
        <br>
        <input class="form-control" type="text" *ngIf="hobbieMode == 'match'" (input)="onHobbyChangeNormal($event.target.value)" placeholder="Choix du hobby"/>

        <div *ngIf="hobbieMode == 'fuzzy'">
          <input  class="form-control" type="text" [(ngModel)]="hobbieText" maxlength="30" (input)="onHobbyChangeFuzzy($event.target.value)" placeholder="Choix du hobby"/>
          <input class="form-control" type="text" [(ngModel)]="hobbieFuzzy" (input)="onHobbyChangeFuzzyOptFuziness($event.target.value)" placeholder="Fuziness (nb char distance)"/>
        </div>

        <div *ngIf="hobbieMode == 'autocomplete'">
          <input class="form-control" auto-complete [(ngModel)]="hobbieAutoComplete"  (valueChanged)="onHobbyChangeAutocomplete($event)"   [source]="observableSource.bind(this)"     />
        </div>
      </div>
      <div class="panel panel-info">

      <!--<div class="single-result-bloc">-->

      <div class="panel-heading">
          <div class="resp-structured">
          Réponse structurée
          </div>
      </div>
          <div class="panel-body">

          <p> nombre de resultat :{{resultHobbies?.hits.total}} </p>
            <table >
              <thead>
              <tr>
                <th>prenom</th>
                <th>nom</th>
                <th>mail</th>
                <th>hobbies</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let user of resultHobbies?.hits.hits">
                <td>{{user._source.firstname}}</td>
                <td>{{user._source.lastname}}</td>
                <td>{{user._source.email}}</td>
                <td>{{user._source.hobbies}}</td>
              </tr>
              </tbody>
            </table>
          <!--</div>-->
      </div>

        <div class="panel panel-info">

          <!--<div class="single-result-bloc">-->

          <div class="panel-heading">
            <div class="resp-original">
              Réponse original
            </div>
          </div>
          <div class="panel-body">
            <pre>
              {{resultHobbies | json }}
            </pre>
          </div>

          </div>
        </div>
      </div>

    </div>
    <!-- /.panel-body -->
  </div>




